[
    {
        "$type": "Subeffect:TargetThis:"
    },
    {
        "$type": "Subeffect:CardTarget:",
        "cardRestriction": {
            "blurb": "Choose a target to Ambush",
            "cardRestrictions": [ "Character" ],
            "elements": [
                { "$type": "Core.CardRestriction:Enemy:" },
                {
                    "$type": "Core.CardRestriction:PositionFitsRestriction:",
                    "spaceRestriction": {
                        "spaceRestrictions": [
                            "Adjacent to Source"
                        ]
                    }
                }
            ]
        }
    },
    {
        "$type": "Subeffect:Attack:",
        "attackerIndex": -2,
        "targetIndex": -1
    },
    {
        "$type": "Subeffect:SetXByTargetCardValue:",
        "cardValue": {
            "value": "W"
        },
        "xMultiplier": 1
    },
    {
        "$type": "Subeffect:Hanging.ChangeCardStats:",
        "wMultiplier": -1,
        "endCondition": "Battle End",
        "triggerRestriction": {
            "triggerRestrictions": [
                "Stackable is Secondary Delayed Stackable Target"
            ]
        }
    },
    {
        "$type": "Subeffect:TargetThis:"
    },
    {
        "$type": "Subeffect:SpendAttacks:",
        "xModifier": 1
    }
]